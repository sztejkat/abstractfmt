<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>sztejkat.abstractfmt.bin</title>
      
  <meta http-equiv="content-type"
 content="text/html; charset=UTF-8">
</head>
<body>
	This package contains a binary, compact, chunk based
	signal format implementation.	
	<p>
	This implementation is made around <i>indicator format</i>,
	as described in <a href="../package-summary.html#indicators">outer package description</a>
	<p>
	Chunk binary streams can be <i>described</i> but are never <i>flushing</i>. That
	is they <i>may</i> write <code>TYPE_xxx</code> indicators, but never write <code>FLUSH_xxx</code>
	indicators. Primarly because the nature of chunks defines elements well enough so that
	information when data ends is not needed.
	
	<h1>Chunk concept</h1>
	In this concept all writes are turned into binary writes (as if to <code>OutputStream</code>)
	and produced bytes are put into a <i>chunk buffer</i> of known, fixed size.
	<p>
	Once the <i>chunk buffer</i> is full or when indicator is to be written to a format
	the current content of <i>chunk buffer</i> is send into a downstream <code>OutputStream</code>
	formulating a <i>chunk</i>.
	
	<h1>Chunks</h1>
	Chunk is always made of two elements, stored in binary stream in exactly
	specified order:
	<pre>
			header
			payload
	</pre>
	
	<h2>Chunk header</h2>
	Chunk header must be able to carry information about:
	<ul>
		<li>what type of indicator is stored in it, allowing
		<code>DATA</code>,<code>BEGIN_DIRECT</code>,
		<code>BEGIN_REGISTER</code>,
		<code>BEGIN_USE</code>,
		<code>END</code>,
		<code>END_BEGIN_DIRECT</code>,
		<code>END_BEGIN_REGISTER</code>,
		<code>END_BEGIN_USE</code>,
		and all <code>TYPE_xxx</code> and <code>TYPE_xxx_BLOCK</code>
		indicators;</li>
		<li>size of payload carried in chunk, where the size may 
		be either encoded directly or knonw a'priori;</li>
	</ul>
	
	<h3>DATA chunks</h3>
	DATA indicator is normally a read-only indicator, but in a binary stream
	it is used to tell that that chunk is <i>continuation</i> of previous chunk
	and there is actually no real indicator in it.
	
	<h1>Detailed format specification</h1>
	Detailed format specification is subject of class specifics and is specified
	in the separate document.
	
</body>
</html>
